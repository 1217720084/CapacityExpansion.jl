<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Basics · CEP.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="CEP.jl logo"/></a><h1>CEP.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Introduction</a></li><li><a class="toctext" href="../workflow/">Workflow</a></li><li><span class="toctext">Load Data</span><ul><li><a class="toctext" href="../load_data/">Load Data</a></li><li><a class="toctext" href="../load_data_time/">ClustData - Time Series Data</a></li><li><a class="toctext" href="../load_data_cep/">OptDataCEP - Data for the CEP</a></li></ul></li><li><span class="toctext">Optimization</span><ul><li><a class="toctext" href="../opt_cep/">Optimization Capacity Expansion Problem</a></li><li class="current"><a class="toctext" href>Basics</a><ul class="internal"><li><a class="toctext" href="#Variables-and-Sets-1">Variables and Sets</a></li><li><a class="toctext" href="#Data-1">Data</a></li><li><a class="toctext" href="#Running-the-Capacity-Expansion-Problem-1">Running the Capacity Expansion Problem</a></li><li><a class="toctext" href="#Opt-Result-A-closer-look-1">Opt Result - A closer look</a></li></ul></li><li><a class="toctext" href="../opt_cep_examples/">Examples</a></li><li><a class="toctext" href="../opt_cep_data/">Provided Data for the Capacity Expansion Problem</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Optimization</li><li><a href>Basics</a></li></ul><a class="edit-page" href="https://github.com/YoungFaithful/CEP.jl/blob/master/docs/src/opt_cep_basics.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Basics</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Basics-1" href="#Basics-1">Basics</a></h1><h2><a class="nav-anchor" id="Variables-and-Sets-1" href="#Variables-and-Sets-1">Variables and Sets</a></h2><p>The models scalability is relying on the usage of sets. The elements of the sets are extracted from the input data and scale the different variables. An overview of the sets is provided in the table. Depending on the models configuration the necessary sets are initialized.</p><table><tr><th>name</th><th>description</th></tr><tr><td>lines</td><td>transmission lines connecting the nodes</td></tr><tr><td>nodes</td><td>spacial energy system nodes</td></tr><tr><td>tech</td><td>fossil and renewable generation as well as storage technologies</td></tr><tr><td>impact</td><td>impact categories like EUR or USD, CO 2 − eq., ...</td></tr><tr><td>account</td><td>fixed costs for installation and yearly expenses, variable costs</td></tr><tr><td>infrastruct</td><td>infrastructure status being either new or existing</td></tr><tr><td>sector</td><td>energy sector like electricity</td></tr><tr><td>time K</td><td>numeration of the representative periods</td></tr><tr><td>time T</td><td>numeration of the time intervals within a period</td></tr><tr><td>time T e</td><td>numeration of the time steps within a period</td></tr><tr><td>time I</td><td>numeration of the time invervals of the full input data periods</td></tr><tr><td>time I e</td><td>numeration of the time steps of the full input data periods</td></tr><tr><td>dir transmission</td><td>direction of the flow uniform with or opposite to the lines direction</td></tr></table><p>An overview of the variables used in the CEP is provided in the table:</p><table><tr><th>name</th><th>dimensions</th><th>unit</th><th>description</th></tr><tr><td>COST</td><td>[account,impact,tech]</td><td>EUR/USD, LCA-categories</td><td>Costs</td></tr><tr><td>CAP</td><td>[tech,infrastruct,node]</td><td>MW</td><td>Capacity</td></tr><tr><td>GEN</td><td>[sector,tech,t,k,node]</td><td>MW</td><td>Generation</td></tr><tr><td>SLACK</td><td>[sector,t,k,node]</td><td>MW</td><td>Power gap, not provided by installed CAP</td></tr><tr><td>LL</td><td>[sector]</td><td>MWh</td><td>LoastLoad Generation gap, not provided by installed CAP</td></tr><tr><td>LE</td><td>[impact]</td><td>LCA-categories</td><td>LoastEmission Amount of emissions that installed CAP crosses the Emission constraint</td></tr><tr><td>INTRASTOR</td><td>[sector, tech,t,k,node]</td><td>MWh</td><td>Storage level within a period</td></tr><tr><td>INTERSTOR</td><td>[sector,tech,i,node]</td><td>MWh</td><td>Storage level between periods of the full time series</td></tr><tr><td>FLOW</td><td>[sector,dir,tech,t,k,line]</td><td>MW</td><td>Flow over transmission line</td></tr><tr><td>TRANS</td><td>[tech,infrastruct,lines]</td><td>MW</td><td>maximum capacity of transmission lines</td></tr></table><h2><a class="nav-anchor" id="Data-1" href="#Data-1">Data</a></h2><p>The package provides data <a href="@ref">Capacity Expansion Data</a> for:</p><table><tr><th>name</th><th>nodes</th><th>lines</th><th>years</th><th>tech</th></tr><tr><td>GER-1</td><td>1 – germany as single node</td><td>none</td><td>2006-2016</td><td>Pv, wind, coal, oil, gas, bat-e, bat-in, bat-out, h2-e, h2-in, h2-out, trans</td></tr><tr><td>GER-18</td><td>18 – dena-zones within germany</td><td>49</td><td>2015</td><td>Pv, wind, coal, oil, gas, bat-e, bat-in, bat-out, h2-e, h2-in, h2-out, trans</td></tr><tr><td>CA-1</td><td>1 - california as single node</td><td>none</td><td>2016</td><td>Pv, wind, coal, oil, gas, bat-e, bat-in, bat-out, h2-e, h2-in, h2-out, trans</td></tr><tr><td>CA-14 ! currently not included !</td><td>14 – multiple nodes within CA and neighboring states</td><td>46</td><td>2016</td><td>Pv, wind, coal, oil, gas, bat-e, bat-in, bat-out, h2-e, h2-in, h2-out, trans</td></tr><tr><td>TX-1</td><td>1 – single node within Texas</td><td>none</td><td>2008</td><td>Pv, wind, coal, nuc, gas, bat-e, bat-in, bat-out</td></tr></table><h3><a class="nav-anchor" id="Units-1" href="#Units-1">Units</a></h3><ul><li>Power - MW</li><li>Energy - MWh</li><li>lengths - km</li></ul><h2><a class="nav-anchor" id="Running-the-Capacity-Expansion-Problem-1" href="#Running-the-Capacity-Expansion-Problem-1">Running the Capacity Expansion Problem</a></h2><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>The CEP model can be run with many configurations. The configurations themselves don&#39;t mess with each other though the provided input data must fulfill the ability to have e.g. lines in order for transmission to work.</p></div></div><p>An overview is provided in the following table:</p><table><tr><th>description</th><th>unit</th><th>configuration</th><th>values</th><th>type</th><th>default value</th></tr><tr><td>enforce a CO2-limit</td><td>kg-CO2-eq./MW</td><td>co2_limit</td><td>&gt;0</td><td>::Number</td><td>Inf</td></tr><tr><td>including existing infrastructure (no extra costs)</td><td>-</td><td>existing_infrastructure</td><td>true or false</td><td>::Bool</td><td>false</td></tr><tr><td>type of storage implementation</td><td>-</td><td>storage</td><td>&quot;none&quot;, &quot;simple&quot; or &quot;seasonal&quot;</td><td>::String</td><td>&quot;none&quot;</td></tr><tr><td>allowing transmission</td><td>-</td><td>transmission</td><td>true or false</td><td>::Bool</td><td>false</td></tr><tr><td>fix. var and CEO to dispatch problem</td><td>-</td><td>fixed<em>design</em>variables</td><td>design variables from design run or nothing</td><td>::OptVariables</td><td>nothing</td></tr><tr><td>allowing lost load (necessary for dispatch)</td><td>price/MWh</td><td>lost<em>el</em>load_cost</td><td>&gt;1e6</td><td>::Number</td><td>Inf</td></tr><tr><td>allowing lost emission (necessary for dispatch)</td><td>price/kg_CO2-eq.</td><td>lost<em>CO2</em>emission_cost</td><td>&gt;700</td><td>::Number</td><td>Inf</td></tr></table><p>They can be applied in the following way:</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CEP.run_opt" href="#CEP.run_opt"><code>CEP.run_opt</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">run_opt(ts_data::ClustData,opt_data::OptDataCEP,opt_config::Dict{String,Any};optimizer::DataType)</code></pre><p>organizing the actual setup and run of the CEP-Problem</p></div></div><a class="source-link" target="_blank" href="https://github.com/YoungFaithful/CEP.jl/blob/db0b671f984bcc149086dbe9237b639d99c81653/src/optim_problems/run_opt.jl#L1-L4">source</a><div><div><pre><code class="language-none"> run_opt(ts_data::ClustData,opt_data::OptDataCEP,opt_config::Dict{String,Any},fixed_design_variables::Dict{String,Any},optimizer::DataTyple;lost_el_load_cost::Number=Inf,lost_CO2_emission_cost::Number)</code></pre><p>Wrapper function for type of optimization problem for the CEP-Problem (NOTE: identifier is the type of <code>opt_data</code> - in this case OptDataCEP - so identification as CEP problem) This problem runs the operational optimization problem only, with fixed design variables. provide the fixed design variables and the <code>opt_config</code> of the previous step (design run or another opterational run) what you can add to the opt_config:</p><ul><li><code>lost_el_load_cost</code>: Number indicating the lost load price/MWh (should be greater than 1e6),   give Inf for none</li><li><code>lost_CO2_emission_cost</code>: Number indicating the emission price/kg-CO2 (should be greater than 1e6), give Inf for none</li><li>give Inf for both lost_cost for no slack</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/YoungFaithful/CEP.jl/blob/db0b671f984bcc149086dbe9237b639d99c81653/src/optim_problems/run_opt.jl#L48-L57">source</a><div><div><pre><code class="language-none"> run_opt(ts_data::ClustData,opt_data::OptDataCEP,optimizer::DataTyple;descriptor::String=&quot;&quot;,co2_limit::Number=Inf,lost_el_load_cost::Number=Inf,lost_CO2_emission_cost::Number=Inf,existing_infrastructure::Bool=false,limit_infrastructure::Bool=false,storage::String=&quot;none&quot;,transmission::Bool=false,print_flag::Bool=true,print_level::Int64=0)</code></pre><p>Wrapper function for type of optimization problem for the CEP-Problem (NOTE: identifier is the type of <code>opt_data</code> - in this case OptDataCEP - so identification as CEP problem) options to tweak the model are:</p><ul><li><code>descritor</code>: String with the name of this paricular model like &quot;kmeans-10-co2-500&quot;</li><li><code>co2_limit</code>: A number limiting the kg.-CO2-eq./MWh (normally in a range from 5-1250 kg-CO2-eq/MWh), give Inf or no kw if unlimited</li><li><code>lost_el_load_cost</code>: Number indicating the lost load price/MWh (should be greater than 1e6),   give Inf for none</li><li><code>lost_CO2_emission_cost</code>:<ul><li>Number indicating the emission price/kg-CO2 (should be greater than 1e6), give Inf for none</li><li>give Inf for both lost_cost for no slack</li></ul></li><li><code>existing_infrastructure</code>: true or false to include or exclude existing infrastructure to the model</li><li><code>storage</code>: String &quot;none&quot; for no storage or &quot;simple&quot; to include simple (only intra-day storage) or &quot;seasonal&quot; to include seasonal storage (inter-day)</li></ul></div></div><a class="source-link" target="_blank" href="https://github.com/YoungFaithful/CEP.jl/blob/db0b671f984bcc149086dbe9237b639d99c81653/src/optim_problems/run_opt.jl#L75-L87">source</a></section><h2><a class="nav-anchor" id="Opt-Result-A-closer-look-1" href="#Opt-Result-A-closer-look-1">Opt Result - A closer look</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CEP.OptVariable" href="#CEP.OptVariable"><code>CEP.OptVariable</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none"> OptVariable</code></pre><p>-<code>data::Array</code> - includes the optimization variable output in  form of an array -<code>axes_names::Array{String,1}</code><code>- includes the names of the different axes and is equivalent to the sets in the optimization formulation -</code>axes::Tuple<code>- includes the values of the different axes of the optimization variables -</code>type::String` - defines the type of the variable being cv - cost variable - dv -design variable - ov - operating variable - sv - slack variable</p></div></div><a class="source-link" target="_blank" href="https://github.com/YoungFaithful/CEP.jl/blob/db0b671f984bcc149086dbe9237b639d99c81653/src/utils/datastructs.jl#L16-L22">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="CEP.OptResult" href="#CEP.OptResult"><code>CEP.OptResult</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>OptResult</p></div></div><a class="source-link" target="_blank" href="https://github.com/YoungFaithful/CEP.jl/blob/db0b671f984bcc149086dbe9237b639d99c81653/src/utils/datastructs.jl#L31">source</a></section><div class="admonition note"><div class="admonition-title">Note</div><div class="admonition-text"><p>The model tracks how it is setup and which equations are used. This can help you to understand the models exact configuration without looking up the source code.</p></div></div><p>The information of the model setup can be checked out the following way:</p><div></div><pre><code class="language-">result = run_opt(ts_clust_data.best_results,cep_data,optimizer;descriptor=&quot;Model Name&quot;)
result.opt_info[&quot;model&quot;]</code></pre><footer><hr/><a class="previous" href="../opt_cep/"><span class="direction">Previous</span><span class="title">Optimization Capacity Expansion Problem</span></a><a class="next" href="../opt_cep_examples/"><span class="direction">Next</span><span class="title">Examples</span></a></footer></article></body></html>
